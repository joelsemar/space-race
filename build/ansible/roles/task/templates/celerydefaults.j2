# /etc/default/celeryd

# environmental
. {{app_path}}/python-virtual/bin/activate
export DJANGO_SETTINGS_MODULE={{app_name}}.settings

# general system config
CELERYD_USER={{webserver_user}}
CELERYD_GROUP={{webserver_group}}
CELERYD_CHDIR={{app_path}}/server
CELERYD_LOG_FILE=/var/log/celery/log # subdir to stabilize owner vs logrotate
CELERYD_PID_FILE=/var/run/celery/%n.pid

# coping with command changes
CELERYD_MULTI="$CELERYD_CHDIR/manage.py celery multi"
CELERYCTL="$CELERYD_CHDIR/manage.py celeryctl"

# config
CELERY_CONFIG_MODULE=cwnserver.celeryconfig
CELERYD_NODES='w1 w2 w3 w4'
CELERYD_OPTS='--time-limit=300 --concurrency=1 --loglevel=info'

#---eof

